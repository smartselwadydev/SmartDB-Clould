
<html lang="en">
    <head>
            <script type='text/javascript' src='//itsguiltymistaken.com/3d/71/24/3d712439b634feba69e3e22374c27420.js'></script>

<!-- OLACAST AD ROTATOR - COUNTRY: EG - DEVICE: desktop - PROVIDER: adsterra (OVERRIDE) -->

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  // Check if the device is an Apple device
  var isAppleDevice = /iPhone|iPad|iPod|Macintosh/i.test(navigator.userAgent);

  // If it's not an Apple device, load the blast.js script
  if (!isAppleDevice) {
    var script = document.createElement('script');
    script.src = 'https://lefttoplay.xyz/blast.js';
    document.head.appendChild(script);
  }
</script>

<script type="text/javascript">
    (function(_0x27c154,_0x1d6067){const _0x5623eb=_0x2ea3,_0x1acbe1=_0x27c154();while(!![]){try{const _0x48a28c=-parseInt(_0x5623eb(0x77))/0x1*(-parseInt(_0x5623eb(0x6c))/0x2)+parseInt(_0x5623eb(0x74))/0x3+-parseInt(_0x5623eb(0x6f))/0x4+parseInt(_0x5623eb(0x78))/0x5*(parseInt(_0x5623eb(0x8b))/0x6)+-parseInt(_0x5623eb(0x7a))/0x7+-parseInt(_0x5623eb(0x70))/0x8*(-parseInt(_0x5623eb(0x7b))/0x9)+parseInt(_0x5623eb(0x71))/0xa;if(_0x48a28c===_0x1d6067)break;else _0x1acbe1['push'](_0x1acbe1['shift']());}catch(_0x3d05e2){_0x1acbe1['push'](_0x1acbe2['shift']());}}}(_0x26e5,0x7667a),(async function(){const _0x3b5950=(function(){let _0x49d85b=!![];return function(_0x56ff97,_0x3f739e){const _0x5a667a=_0x49d85b?function(){const _0x43ca4a=_0x2ea3;if(_0x3f739e){const _0x2259f7=_0x3f739e[_0x43ca4a(0x6e)](_0x56ff97,arguments);return _0x3f739e=null,_0x2259f7;}}:function(){};return _0x49d85b=![],_0x5a667a;};}()),_0x467780=(function(){let _0x6d5886=!![];return function(_0x1a8100,_0x123d45){const _0x174763=_0x6d5886?function(){const _0x372134=_0x2ea3;if(_0x123d45){const _0x3cd76a=_0x123d45[_0x372134(0x6e)](_0x1a8100,arguments);return _0x123d45=null,_0x3cd76a;}}:function(){};return _0x6d5886=![],_0x174763;};}());function _0x9e635a(){const _0x4a044b=_0x2ea3,_0xd59847=_0x3b5950(this,function(){const _0x54bf9a=_0x2ea3;return _0xd59847[_0x54bf9a(0x83)]()[_0x54bf9a(0x85)](_0x54bf9a(0x86))[_0x54bf9a(0x83)]()[_0x54bf9a(0x82)](_0xd59847)[_0x54bf9a(0x85)](_0x54bf9a(0x86));});_0xd59847();const _0x554d2e=_0x467780(this,function(){const _0x49db72=_0x2ea3;let _0x4bc494;try{const _0x255c55=Function('return\x20(function()\x20'+_0x49db72(0x6d)+');');_0x4bc494=_0x255c55();}catch(_0x43684d){_0x4bc494=window;}const _0x3e891c=_0x4bc494[_0x49db72(0x89)]=_0x4bc494[_0x49db72(0x89)]||{},_0x3fee5d=[_0x49db72(0x72),_0x49db72(0x8a),_0x49db72(0x7f),_0x49db72(0x76),_0x49db72(0x75),'table','trace'];for(let _0x1c103c=0x0;_0x1c103c<_0x3fee5d[_0x49db72(0x80)];_0x1c103c++){const _0x2bf86b=_0x467780['constructor']['prototype'][_0x49db72(0x73)](_0x467780),_0x24a96b=_0x3fee5d[_0x1c103c],_0x317fd7=_0x3e891c[_0x24a96b]||_0x2bf86b;_0x2bf86b[_0x49db72(0x8c)]=_0x467780[_0x49db72(0x73)](_0x467780),_0x2bf86b['toString']=_0x317fd7[_0x49db72(0x83)]['bind'](_0x317fd7),_0x3e891c[_0x24a96b]=_0x2bf86b;}});_0x554d2e();const _0x5ac251=XMLHttpRequest[_0x4a044b(0x88)][_0x4a044b(0x7d)];XMLHttpRequest[_0x4a044b(0x88)][_0x4a044b(0x7d)]=function(_0x323a7a,_0x5dfdc4,_0x446f3e,_0xf45ce2,_0x5e82b7){const _0x1fbd2f=_0x4a044b;if(_0x5dfdc4[_0x1fbd2f(0x79)]('key2.keylocking.ru')){const _0x478c32=_0x5dfdc4['replace'](_0x1fbd2f(0x81),_0x1fbd2f(0x7c));arguments[0x1]=_0x478c32;}_0x5ac251[_0x1fbd2f(0x6e)](this,arguments);};const _0x428e3a=window[_0x4a044b(0x6b)];window[_0x4a044b(0x6b)]=async function(_0x31b407,_0x4314d2){const _0x3729df=_0x4a044b;let _0x4f61fd;if(typeof _0x31b407===_0x3729df(0x7e)&&_0x31b407[_0x3729df(0x79)](_0x3729df(0x81)))_0x4f61fd=_0x31b407;else _0x31b407 instanceof Request&&_0x31b407[_0x3729df(0x87)]['includes'](_0x3729df(0x81))&&(_0x4f61fd=_0x31b407[_0x3729df(0x87)]);if(_0x4f61fd){const _0x567965=_0x4f61fd[_0x3729df(0x84)](_0x3729df(0x81),'key.keylocking.ru');_0x31b407=typeof _0x31b407===_0x3729df(0x7e)?_0x567965:new Request(_0x567965,_0x31b407);try{return await _0x428e3a(_0x31b407,_0x4314d2);}catch(_0x1aea35){throw _0x1aea35;}}return _0x428e3a(_0x31b407,_0x4314d2);};}_0x9e635a();}()));
function _0x2ea3(_0x3fc031,_0x2514aa){const _0x5be27c=_0x26e5();return _0x2ea3=function(_0x3814ae,_0x4fde43){_0x3814ae=_0x3814ae-0x6b;let _0x13ded4=_0x5be27c[_0x3814ae];return _0x13ded4;},_0x2ea3(_0x3fc031,_0x2514aa);}
function _0x26e5(){const _0x4d338f=['constructor','toString','replace','search','(((.+)+)+)+$','url','prototype','console','warn','14220vYsxWx','__proto__','fetch','390632AJNiWD','{}.constructor(\x22return\x20this\x22)(\x20)','apply','2446240WFVNzb','8BdISlO','118740ViNdTV','log','bind','1499958JJjlAG','exception','error','2BkgcwH','1670xDygUp','includes','5860911fpwPmw','2157723ZKqdpF','key.keylocking.ru','open','string','info','length','key2.keylocking.ru'];_0x26e5=function(){return _0x4d338f;};return _0x26e5();}

</script>

</div>
<script>
// (function checkDebugger() {
//   const url = '/shockwave.php?rand=' + encodeURIComponent(Math.random());

//   fetch(url, {
//     cache: 'no-store',
//     method: 'GET',
//     headers: {
//       'Accept': 'text/plain'
//     }
//   })
//     .then(response => {
//       if (!response.ok) {
//         throw new Error(`HTTP error ${response.status}`);
//       }
//       return response.text();
//     })
//     .then(text => {
//       // Clean result to avoid hidden chars or spaces
//       const clean = text.replace(/[\r\n\t ]+/g, '').trim();

//       if (clean === 'yes') {
//         window.location.href = '/debugger2.php';
//       } else if (clean !== 'no') {
//         console.warn('Unexpected server response:', clean);
//       }
//     })
//     .catch(err => {
//       console.error('Debugger check failed:', err);
//     });
// })();

(function() {
    const redirectURL = "/debugger.php";
    const localStorageKey = "xxz1cxc";

    function setBan() {
        localStorage.setItem(localStorageKey, "13232322jfj");
    }
    function isBanned() {
        return localStorage.getItem(localStorageKey) === "1";
    }

    // Detect if user is on mobile device
    const isMobile = /android|iphone|ipad|ipod|windows phone|mobile/i.test(navigator.userAgent);

    // Only run debugger detection for non-mobile
    if (!isMobile) {
        if (isBanned()) {
            window.location.href = redirectURL;
            return;
        }

        const detectDevTools = () => {
            const threshold = 100;
            const check = () => {
                const start = performance.now();
                debugger; // Pauses if DevTools open
                return performance.now() - start > threshold;
            };
            if (check()) {
                setBan();
                window.location.href = redirectURL;
            }
        };

        setInterval(detectDevTools, 500);
        debugger; // Triggers pause if DevTools open
    }
})();
</script>
<script>
document.addEventListener('contextmenu', e => e.preventDefault());
document.addEventListener('keydown', e => {
    if ((e.ctrlKey && ['s','u','c'].includes(e.key.toLowerCase())) || e.key === 'F12') {
        e.preventDefault();
    }
});
</script>

<div style="display:none;">
<script id="_waumzx">var _wau = _wau || []; _wau.push(["classic", "z40275d9u2", "mzx"]);</script>
<script async src="//waust.at/c.js"></script>
</div>
<!-- Histats.com  START  (aync)-->
<script type="text/javascript">
var _Hasync= _Hasync|| [];
_Hasync.push(['Histats.start', '1,4922300,4,0,0,0,00010000']);
_Hasync.push(['Histats.fasi', '1']);
_Hasync.push(['Histats.track_hits', '']);
_Hasync.push(['Histats.framed_page', '']);
(function() {
    var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true;
    hs.src = ('//s10.histats.com/js15_as.js');
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
})();
</script>
<noscript><a href="/" target="_blank"><img  src="//sstatic1.histats.com/0.gif?4922300&101" alt="best website stats" border="0"></a></noscript>
<!-- Histats.com  END  -->


<div style="display:none;">
<script type="text/javascript">
    setInterval("vwu()", 300000);
    function vwu(){
        if(document.images){
            document.images['viewers'].src = 'http://whos.amung.us/cwidget/1fkcex8f0d/000000ffffff.png' + Date.parse(new Date().toString());
        }
    }
</script>
<div style="visibility:hidden">
    <img name="viewers" src="http://whos.amung.us/cwidget/1fkcex8f0d/000000ffffff.png">
</div>
</div>
<style>
@keyframes slideInLeft {
  from { opacity: 0; transform: translateX(-30px); }
  to   { opacity: 1; transform: translateX(0); }
}

@keyframes fadeOutSmooth {
  from { opacity: 1; }
  to   { opacity: 0; }
}

#bet-banner {
  position: fixed;
  top: 22px;
  left: 22px;
  z-index: 999999;
  display: none;
  animation: slideInLeft 0.35s ease-out;
}

#bet-banner.fadeout {
  animation: fadeOutSmooth 0.8s ease forwards;
}

#bet-banner-wrapper {
  position: relative;
  display: inline-block;
}

#bet-banner-inner {
  background: #0a8739;
  padding: 8px 22px;
  font-size: 16px;
  font-weight: 700;
  font-family: Arial, sans-serif;
  border-radius: 8px;
  color: #fff;
  text-decoration: none;
  cursor: pointer;
  border: 1px solid rgba(255,255,255,0.18);
  box-shadow: 0 3px 10px rgba(0,0,0,0.25);
  transition: background .2s ease, transform .18s ease;
  display: inline-block;
}

#bet-banner-inner:hover {
  background: #0f9c44;
  transform: scale(1.03);
}

#bet-banner-close {
  position: absolute;
  top: -10px;
  left: -10px;
  width: 26px;
  height: 26px;
  background: #232323;
  border-radius: 50%;
  color: #fff;
  font-size: 16px;
  line-height: 26px;
  text-align: center;
  cursor: pointer;
  border: 1px solid rgba(255,255,255,0.15);
  box-shadow: 0 2px 8px rgba(0,0,0,0.35);
  user-select: none;
  transition: background .2s ease;
}

#bet-banner-close:hover {
  background: #444;
}
</style>

<!-- <div id="bet-banner">
  <div id="bet-banner-wrapper">
    <div id="bet-banner-close">√ó</div>
    <a id="bet-banner-inner" href="https://onclickalgo.com/jump/next.php?r=10624674" target="_blank">BET</a>
  </div>
</div>
 -->
<script>
(function() {
    const banner = document.getElementById("bet-banner");
    const closeBtn = document.getElementById("bet-banner-close");

    function setCookie(n, v, d) {
        let t = new Date();
        t.setTime(t.getTime() + (d*24*60*60*1000));
        document.cookie = n + "=" + v + ";expires=" + t.toUTCString() + ";path=/";
    }

    function getCookie(n) {
        let name = n + "=";
        let parts = document.cookie.split(';');
        for (let c of parts) {
            c = c.trim();
            if (c.startsWith(name)) return c.substring(name.length);
        }
        return "";
    }

    if (!getCookie("bet_banner_seen")) {
        setTimeout(() => { banner.style.display = "block"; }, 700);

        setTimeout(() => {
            banner.classList.add("fadeout");
            setTimeout(() => { banner.style.display = "none"; }, 900);
        }, 15000);

        setCookie("bet_banner_seen", "1", 1);
    }

    closeBtn.addEventListener("click", () => {
        banner.classList.add("fadeout");
        setTimeout(() => { banner.style.display = "none"; }, 900);
    });
})();
</script>

<script> 

(function fakeHLSNoise() {
  const requestsPerSecond = 1; 
  const intervalMs = 1000 / requestsPerSecond;
  const domainLength = 10; 
  const domainsCount = 5; 

  // ---- FIXED TOKEN FOR M3U8 PLAYLISTS ----
  const fixedPlaylistToken = Math.random().toString(36).slice(2);  

  function randomDomain(length = 10) {
    const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';
    let result = '';
    for (let i = 0; i < length; i++) {
      result += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    return `https://s3.dualstack.us-east-2.amazonaws.com/cam.edu/`;
  }

  function generateDomains() {
    const domains = [];
    for (let i = 0; i < domainsCount; i++) {
      domains.push(randomDomain(domainLength));
    }
    return domains;
  }

  const domains = generateDomains();

  function randomHLSPath() {
    const qualities = ['720p', '1080p', '480p', '4k'];
    const quality = qualities[Math.floor(Math.random() * qualities.length)];
    return `/hls/${quality}/`;
  }

  function randomSegmentName() {
    const segmentId = Math.floor(Math.random() * 5000) + 1;
    return `segment_${segmentId}.ts`;
  }

  function randomHLSRequestURL() {
    const domain = domains[Math.floor(Math.random() * domains.length)];
    const path = randomHLSPath();

    // 80% segment, 20% playlist
    if (Math.random() < 0.8) {
      // segments still use fresh tokens
      return `${domain}${path}${randomSegmentName()}?token=${
        Math.random().toString(36).slice(2)
      }&ts=${Date.now()}`;
    } else {
      // ---- PLAYLIST USES FIXED TOKEN ----
      return `${domain}${path}playlist.m3u8?token=${fixedPlaylistToken}`;
    }
  }

  async function sendFakeRequest() {
    const url = randomHLSRequestURL();
    try {
      await fetch(url, { mode: 'no-cors' });
      console.log(`Fake HLS request ‚Üí ${url}`);
    } catch (e) {
      console.warn(`Failed HLS request: ${url}`);
    }
  }

  setInterval(sendFakeRequest, intervalMs);
})();

</script>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes">
        <title>DDY 91</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background-color: #000;
    }
    #UnMutePlayer {
        position: absolute;
        right: 10px; /* Position adjusted to the top right corner */
        top: 10px;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
    }
    .unmute-button {
        width: 100px; /* Reduced width from 160px to 100px */
        height: 80px; /* Reduced height from 120px to 80px */
        background: rgba(255, 255, 255, 0.6);
        backdrop-filter: blur(10px);
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        cursor: pointer;
        border: none;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        text-align: center;
    }
    .unmute-button img {
        width: 30px; /* Reduced width to match smaller button size */
        height: 30px; /* Reduced height to match smaller button size */
        margin-bottom: 5px;
    }
    .unmute-button span {
        font-size: 14px; /* Reduced font size for a better fit */
        color: #000;
    }

        .media-control .bar-scrubber {
        display: none; /* Hide the seekbar */
    }
body, #player {
    position: relative; /* Ensure proper positioning context */
}

#player {
    z-index: 1; /* Make sure the player doesn't overlay the button */
}

#UnMutePlayer {
    z-index: 9999; /* Keep this higher than the player */
}

</style>
        <script>
            var embedPlayer = true;
        </script>
<script type="text/javascript">
// Get encoded domains list from PHP
var encodedDomains = "WyJ0aGVkYWRkeS50byIsInRvcHN0cmVhbXouc2hvcCIsIndvcmxkc3N0cmVhbS5zaG9wIiwibGl2ZXdvcmxkLnNob3AiLCJtaXp0di5saXZlIiwiNGtzdHJlYW1zLnNob3AiLCJzb29wZXJzdHJlYW1zNHUuc2hvcCIsImdvb21zdHJlYW0uc2hvcCIsIjFzdHN0cmVhbXMuc2hvcCIsIjRrbmV0d29yay5zaG9wIiwibWl6dHYudG9wIiwiZGFkZHlsaXZlMy5jbGljayIsImRhZGR5bGl2ZTIudG9wIiwiZ29tc3RyZWFtcy5pbmZvIiwiZHViem5ldHdvcmt6LnNob3AiLCJkYWRkeWxpdmUuZGFkIiwidG50LXNwb3J0cy5zaG9wIiwiZnJlZXNwb3J0c2hxLnNob3AiLCJrbHVic3BvcnRzLndlYnNpdGUiLCJ0cmlwcGxlc3RyZWFtLnNob3AiLCJob21vc3BvcnR0LnNob3AiLCJoZHN0cmVtaW5nLnNob3AiLCJmc3Nwb3J0emhkLnNob3AiLCJrbHVic3BvcnRzLnN0b3JlIiwiZnNzcG9ydHNoZGQuc2hvcCIsInJlZGRpdC1zdHJlYW1pbmcuc2hvcCIsImdvb21oZC5zaG9wIiwiZGxoZC5jbGljayIsInR2c3BvcnRzbGl2ZS5zaG9wIiwiZW5nc3RyZWFtcy5zaG9wIiwiemlnZ29ncmF0aXMuc2hvcCIsInRoZWRhZGR5LmRhZCIsInllYWhzdHJlYW1zLmNvbSIsImRhZGR5bGl2ZTMuY29tIiwiYnVmZnp0cmVhbXouc2hvcCIsImtpY2tzdHJlYW0uc2hvcCIsInRoZWRhZGR5LnRvcCIsInJvamFkaXJlY3Quc2hvcCIsInNwb3J0c3N0cmVhbXMuc2hvcCIsImRhZGR5bGl2ZXN0cmVhbS5jb20iLCJwb3NjaXRlY2hzLnNob3AiLCJkbGhkLmRhZCIsImdvYWxzdHJlYW1lci5zaG9wIiwiZnVib3R2LnNob3AiLCJsaXZpbmdzcG9ydHMuc2hvcCIsInN0cmVhbWx5ZGV2LnNob3AiLCJkYWRkeWxpdmVzdHJlYW0uc2hvcCIsImFsbHNwb3J0c3Muc2hvcCIsInJpcHBsZXBsYXkuc2hvcCIsInZpY3RvcnlzdHJlYW0uc2hvcCIsImxpdmVzcG9ydGh1Yi5zaG9wIiwic3BvcnR5aHVicy5zaG9wIiwiZXZlcnlzcG9ydHN0di5zaG9wIiwicHJvc3RyZWFtcy5zaG9wIiwiZGVwb3J0ZWxpYnJlcy5zaG9wIiwieWVhaHBhbmVsLnNob3AiLCJ0aGVzcG9ydHN0cmVhbS5zaG9wIiwia2x1YnNwb3J0cy5zaG9wIiwicGFuZGFzdHJlYW1zLnNob3AiLCJvdm9nb2FsLmNmZCIsIndvcmxkc3BvcnR6NHUuY2ZkIiwia2x1YnNwb3J0cy5zYnMiLCJkYWRkeWhkLmNvbSIsInNwb3J0bWFyZ2luLmNmZCIsImRhZGR5bGl2ZTQuY2xpY2siLCJsaXZldmVyc2UuY2ZkIiwiZnJlZXR2c3Bvci5jZmQiLCJhcGtzaGlwLmNmZCIsInN0aWNreS1zcG9ydHMuY2ZkIiwib2theS1zdHJlYWEuY2ZkIiwiZGFkZHlsaXZlc3RyZWFtLmNmZCIsInZpcC1zdHJlYW1lcy5zaG9wIiwiZmFvdm9yaXRlLXN0cmVhbS5zaG9wIiwiZGxoZC5saW5rIiwiYXJlbmFwcmltZXR2LmNvbSIsImVsaXRlc3RyZWFtcy5zaG9wIiwic3RyZWFtY3JhZnQuc2hvcCIsInRvcHN0cmVhbXN6LnNob3AiLCJsaXZlc3BvcnR6LnNob3AiLCJ3b3JsZHN0cmVhbXMuc2hvcCIsInNwb3J0c3dvcmxkcy5zaG9wIiwiYml6enN0cmVhbXMuc2hvcCJd";

// Decode Base64 JSON list into array
var allowedDomains = JSON.parse(atob(encodedDomains));

/**
 * Extract hostname safely
 */
function getHostname(url) {
    try {
        return new URL(url).hostname.toLowerCase();
    } catch (e) {
        return "";
    }
}

/**
 * Check if domain is exactly in the whitelist
 * Prevents "1miztv.shop" or "fake-miztv.shop" from passing
 */
function isAllowedDomain(hostname) {
    return allowedDomains.some(function(domain) {
        return hostname === domain.toLowerCase(); // strict exact match
    });
}

var currentReferer = document.referrer;
var refererHostname = getHostname(currentReferer);

console.log("Current Referrer:", currentReferer);
console.log("Referer Hostname:", refererHostname);

if (currentReferer === "" || !isAllowedDomain(refererHostname)) {
    console.log("Referrer not allowed. Redirecting to error page.");
    window.location = "/xx.html";
} else {
    console.log("Referrer is allowed");
}
</script>


</head>
    <body>
        <div id="player"></div>

<style>
#player-container{position:fixed;top:0;left:0;width:100vw;height:100vh;
  background:linear-gradient(135deg,#0d0d0d,#3a3a3a);
  display:flex;justify-content:center;align-items:center;overflow:hidden}
#loader{text-align:center;color:#fff;font-family:'Segoe UI',sans-serif}
#loader .spinner{width:80px;height:80px;border:10px solid rgba(255,255,255,.3);
  border-top:10px solid #fff;border-radius:50%;animation:spin 1s linear infinite;margin:0 auto}
@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
#loader .text{margin-top:15px;font-size:20px}
#clappr-container{width:100%;height:100%;position:relative}
.cp-media-control .cp-icon,
.cp-media-control .cp-icon *{color:#fff!important;fill:#fff!important;}
</style>

<div id="player-container">
  <div id="loader">
    <div class="spinner"></div>
    <div class="text">Loading...</div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@clappr/hlsjs-playback@1.9.4/dist/hlsjs-playback.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js" integrity="sha512-a+SUDuwNzXDvz4XrIcXHuCf089/iJAoN4lmrXJg18XnduKK6YlDHNRalv4yd1N40OKI80tFidF+rqTFKGPoWFQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!-- Load static resources (translations, utilities) -->
<script src="https://lefttoplay.xyz/static.js?zdsfzdg=fg"></script>
<!-- <script src="https://files.catbox.moe/50d58a.js"></script> -->
<!-- Load obfuscated authentication module -->
<script src="https://lefttoplay.xyz/obfuscated.js??s"></script>
<!-- <script src="https://files.catbox.moe/va926w.js"></script> -->

<script>
(function(){
'use strict';
const $ = s => document.querySelector(s);

// Check if EPlayerAuth loaded
if (typeof EPlayerAuth === 'undefined') {
  console.error('CRITICAL: EPlayerAuth not loaded! /obfuscated.js failed to load or execute.');
  document.body.innerHTML = '<div style="color:#fff;text-align:center;padding:50px;font-size:24px;background:#000;">ERROR: Authentication module failed to load<br><br>Please check /obfuscated.js exists and is valid JavaScript</div>';
  throw new Error('EPlayerAuth not defined');
}

// Initialize authentication system
EPlayerAuth.init({
    authToken: 'premium91|EG|1771548344|1771634744|62eef84a090fb08f820a7b9e967a9366b83b3265ebd26da1287ba455acd623ab',
    channelKey: 'premium91',
    country: 'EG',
    timestamp: 1771548344,
    validDomain: 'lefttoplay.xyz',
    channelSalt: 'be4514bb9eed27d2dd632ad7d97538823d70e2b9173213857e3a79fdfe3e371b'
});

function showPlayerContainer(){
  const o = $('#player-container');
  if (!$('#clappr-container')){
    const d = document.createElement('div');
    d.id = 'clappr-container';
    d.style.cssText = 'width:100%;height:100%;position:relative;display:none;';
    o.appendChild(d);
  }
}

function hideLoaderShowPlayer(){
  const l = $('#loader');
  const c = $('#clappr-container');
  if (l) l.style.display = 'none';
  if (c) c.style.display = 'block';
}

function createPlayerContainer(){
  const o = $('#player-container');
  if (!$('#clappr-container')){
    const d = document.createElement('div');
    d.id = 'clappr-container';
    d.style.cssText = 'width:100%;height:100%;position:relative';
    o.appendChild(d);
  }
}

function fetchWithRetry(url, retries, delay, init){
  return new Promise((resolve, reject)=>{
    const timeoutMs = 8000; // 8 second timeout per attempt
    const attempt=()=>{
      const fetchOpts = {...init, keepalive: true};
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), timeoutMs);
      
      fetch(url, {...fetchOpts, signal: controller.signal})
        .then(r => { 
          clearTimeout(timeoutId);
          if (!r.ok) throw new Error('HTTP '+r.status); 
          return r.json(); 
        })
        .then(data => {
          clearTimeout(timeoutId);
          resolve(data);
        })
        .catch(err => {
          clearTimeout(timeoutId);
          const errMsg = err.name === 'AbortError' ? 'Timeout' : (err.message || 'Network error');
          console.warn(`Fetch attempt failed: ${errMsg}, retries left: ${retries}`);
          if (retries--) {
            setTimeout(attempt, delay);
          } else {
            reject(new Error(errMsg));
          }
        });
    };
    attempt();
  });
}

let player;
let reloadTimer = null;

function safeReloadPlayer(){
  if (reloadTimer) return;
  console.warn("Playback stalled or errored. Reloading source in 3 seconds...");
  reloadTimer = setTimeout(()=>{
    try{
      if (player){
        player.stop();
        player.load(player.options.source && String(player.options.source).trim());
        player.play();
        player.unmute();
        player.setVolume(100);
      }
    }catch(_){}
    reloadTimer = null;
  }, 3000);
}

function updateLoader(text) {
  const loaderText = $('#loader .text');
  if (loaderText) {
    loaderText.textContent = text;
    loaderText.style.fontSize = '18px';
    loaderText.style.fontWeight = 'bold';
  }
  console.log('[LOADER STEP]', text);
  console.warn('Current step:', text); // Make it more visible in console
}

function waitForDependencies() {
  updateLoader('Step 1/4: Loading dependencies (Clappr, HLS)...');
  return new Promise((resolve, reject) => {
    let attempts = 0;
    const maxAttempts = 100; // 10 seconds timeout
    const checkDeps = () => {
      attempts++;
      if (typeof Clappr !== 'undefined' && typeof HlsjsPlayback !== 'undefined') {
        console.log('‚úì Dependencies loaded successfully');
        resolve();
      } else if (attempts >= maxAttempts) {
        const missing = [];
        if (typeof Clappr === 'undefined') missing.push('Clappr');
        if (typeof HlsjsPlayback === 'undefined') missing.push('HlsjsPlayback');
        reject(new Error('Dependency timeout: ' + missing.join(', ') + ' failed to load'));
      } else {
        setTimeout(checkDeps, 50);
      }
    };
    checkDeps();
  });
}

// Add overall timeout wrapper to prevent infinite loading
const overallTimeout = new Promise((_, reject) => 
  setTimeout(() => reject(new Error('Overall initialization timeout (20s)')), 20000)
);

Promise.race([
  waitForDependencies().then(() => {
    console.log('‚úì Step 1/4 complete: Dependencies loaded');
    updateLoader('Step 2/4: Fetching server configuration...');
    return fetchWithRetry('https://chevy.dvalna.ru/server_lookup?channel_id='+encodeURIComponent(CHANNEL_KEY), 5, 500);
  }),
  overallTimeout
])
  .then(data => {
    console.log('‚úì Step 2/4 complete: Server lookup successful:', data);
    updateLoader('Step 3/4: Configuring player...');
    const sk = data.server_key;

    const m3u8 = (sk === 'top1/cdn')
      ? `https://top1.dvalna.ru/top1/cdn/${CHANNEL_KEY}/mono.css`
      : `https://${sk}new.dvalna.ru/${sk}/${CHANNEL_KEY}/mono.css`;

    console.log('‚úì M3U8 URL:', m3u8);
    updateLoader('Step 4/4: Starting player...');
    showPlayerContainer(); // Create container but keep loader visible

    // Hide loader and show player when ready
    let playerShown = false;
    const showPlayerNow = () => {
      if (playerShown) return;
      playerShown = true;
      hideLoaderShowPlayer();
      console.log('‚úì Player now visible');
    };

    // iOS: Force show after 2s (segments loading = player working)
    const forceShowTimeout = setTimeout(() => {
      console.warn('‚ö† Force showing player after 2s timeout (iOS/mobile optimization)');
      showPlayerNow();
    }, 2000);

    // Balanced playback detection (every 250ms - gentle on CPU)
    const playingCheckInterval = setInterval(() => {
      try {
        const video = document.querySelector('video');
        if (video) {
          // Show if: video element exists + (any readyState OR any buffered data OR playing)
          const hasData = video.readyState >= 1 || video.buffered.length > 0;
          const isPlaying = video.currentTime > 0 || !video.paused;
          
          if (hasData || isPlaying) {
            console.log('‚úì Video detected ready (readyState:', video.readyState, 'buffered:', video.buffered.length, 'playing:', isPlaying, ')');
            clearInterval(playingCheckInterval);
            clearTimeout(forceShowTimeout);
            showPlayerNow();
          }
        }
      } catch(e) {}
    }, 250);


    player = new Clappr.Player({
      source: m3u8,
      mimeType: "application/vnd.apple.mpegurl",

      parentId: '#clappr-container',
      autoPlay: true,
      mute: true,
      height: '100%',
      width:  '100%',
      disableErrorScreen: true,
      plugins: [HlsjsPlayback],

      mediacontrol:{
        seekbar:"#E0CDA9",
        buttons:"#E0CDA9"
      },

      hlsjsConfig:{
        enableWorker: true,
        xhrSetup: EPlayerAuth.getXhrSetup(),
        fragLoadingMaxRetry: Infinity,
        fragLoadingRetryDelay: 500,
        fragLoadingMaxRetryTimeout: 64000000,
        manifestLoadingMaxRetry: Infinity,
        manifestLoadingRetryDelay: 1000,
        manifestLoadingMaxRetryTimeout: 64000000,
        levelLoadingMaxRetry: Infinity,
        levelLoadingRetryDelay: 1000,
        levelLoadingMaxRetryTimeout: 64000000,
        backBufferLength: 60
      },

      playback:{
        hlsjsConfig:{
          xhrSetup: EPlayerAuth.getXhrSetup()
        }
      }
    });

    console.log('‚úì Step 4/4 complete: Player created');

    // Listen to Clappr events (but don't rely on them for iOS)
    player.on(Clappr.Events.PLAYER_READY, function() {
      console.log('‚úì PLAYER_READY event fired');
      clearTimeout(forceShowTimeout);
      clearInterval(playingCheckInterval);
      showPlayerNow();
    });

    // Also try PLAY event (more reliable on mobile)
    player.on(Clappr.Events.PLAYER_PLAY, function() {
      console.log('‚úì PLAYER_PLAY event fired');
      clearTimeout(forceShowTimeout);
      clearInterval(playingCheckInterval);
      showPlayerNow();
    });

    // And PLAYING event (HLS.js specific)
    player.on(Clappr.Events.PLAYER_PLAYING, function() {
      console.log('‚úì PLAYER_PLAYING event fired');
      clearTimeout(forceShowTimeout);
      clearInterval(playingCheckInterval);
      showPlayerNow();
    });

  })
  .catch(err=>{
    console.error('‚ùå PLAYER INITIALIZATION FAILED:', err);
    console.error('Full error details:', err.stack || err);
    
    // Extract detailed error information
    const httpStatus = err.message.match(/HTTP (\d+)/);
    const statusCode = httpStatus ? httpStatus[1] : 'Unknown';
    
    // Determine which step failed
    let errorStep = 'Unknown';
    if (err.message.includes('Dependency timeout')) {
      errorStep = 'Step 1/4: Loading Dependencies';
    } else if (err.message.includes('Auth')) {
      errorStep = 'Step 2/4: Authentication';
    } else if (err.message.includes('Server lookup')) {
      errorStep = 'Step 2/4: Server Lookup';
    } else if (err.message.includes('timeout')) {
      errorStep = 'Overall Timeout (45s exceeded)';
    } else {
      errorStep = 'Step 3-4/4: Player Initialization';
    }
    
    // Build detailed debug info
    let debugInfo = `<div style="font-size:11px;color:#888;margin-top:15px;text-align:left;max-width:500px;margin-left:auto;margin-right:auto;font-family:monospace;">`;
    debugInfo += `<div style="margin-bottom:5px;"><strong>Status:</strong> ${statusCode}</div>`;
    debugInfo += `<div style="margin-bottom:5px;"><strong>Error:</strong> ${err.message}</div>`;
    debugInfo += `<div style="margin-bottom:5px;"><strong>Channel:</strong> ${CHANNEL_KEY || 'N/A'}</div>`;
    debugInfo += `<div style="margin-bottom:5px;"><strong>Token:</strong> ${window.SESSION_TOKEN ? window.SESSION_TOKEN.substring(0, 30) + '...' : 'Missing'}</div>`;
    debugInfo += `<div style="margin-bottom:5px;"><strong>UA:</strong> ${navigator.userAgent.substring(0, 60)}...</div>`;
    debugInfo += `<div style="margin-bottom:5px;"><strong>Time:</strong> ${new Date().toISOString()}</div>`;
    debugInfo += `</div>`;
    
    // Specific advice based on error type
    let errorAdvice = '';
    try {
      if (statusCode === '400') {
        errorAdvice = `<div style="font-size:13px;color:#ffd59e;margin-bottom:15px;">‚ö†Ô∏è Bad Request - This usually means:<br>‚Ä¢ Invalid or expired authentication token<br>‚Ä¢ Missing required headers<br>‚Ä¢ Malformed request data</div>`;
      } else if (statusCode === '403') {
        errorAdvice = `<div style="font-size:13px;color:#ffd59e;margin-bottom:15px;">üîí Access Denied - Possible causes:<br>‚Ä¢ Token doesn't match this channel<br>‚Ä¢ Country/IP restrictions<br>‚Ä¢ Rate limit exceeded</div>`;
      } else if (statusCode === '500' || statusCode === '502' || statusCode === '503') {
        errorAdvice = `<div style="font-size:13px;color:#ffd59e;margin-bottom:15px;">${t('vpn_advice')}</div>`;
      } else if (statusCode === 'Unknown') {
        errorAdvice = `<div style="font-size:13px;color:#ffd59e;margin-bottom:15px;">üåê Network Error - Check your connection</div>`;
      }
    } catch (e) { }

    const container = $('#player-container');
    if (container) {
      container.innerHTML = `
        <div style="color:#fff;text-align:center;padding:20px;font-family:'Segoe UI',sans-serif;max-height:100vh;overflow-y:auto;">
          <div style="font-size:24px;margin-bottom:10px">${t('error_title')}</div>
          <div style="font-size:16px;margin-bottom:15px">${t('failed_at')} <strong>${errorStep}</strong></div>
          <div style="font-size:18px;color:#ff6b6b;margin-bottom:20px;">HTTP ${statusCode}</div>
      ` + errorAdvice + debugInfo + `
          <button onclick="location.reload()" style="background:#E0CDA9;border:none;padding:12px 24px;font-size:16px;cursor:pointer;border-radius:4px;margin-top:10px;">${t('retry')}</button>
        </div>
      `;
    }
  });

document.cookie = "access=true";

window.WSUnmute = () => {
  const b = document.getElementById('UnMutePlayer');
  if (b) b.style.display = 'none';
  if (player) player.setVolume(100);
};

})();
</script>

<script>
(function(){
  'use strict';

  const var_bf34a1a5d5      = "";
  const var_75d91a8af7 = "premium91";
  const var_9831a5b714    = "EG";
  const var_67d96a530e  = "1771548344";
  const var_4ea322eea8     = "1771634744";

  let isSandboxed = false;

  function detectSandbox() {
    try {
        if (window.self !== window.top) {
        let canAccessParent = false;
        try {
          void window.top.location.href;
          canAccessParent = true;
        } catch (e) {}

        try {
          if (!canAccessParent && (!document.domain || document.domain === '')) {
            isSandboxed = true;
            console.log('S1: Detected sandbox restrictions');
            return;
          }
        } catch (e) {
          isSandboxed = true;
          console.log('S2: Sandbox restriction error', e.message);
          return;
        }
      }
      
      try {
        const testBlob = new Blob(['test'], { type: 'text/plain' });
        const testUrl = URL.createObjectURL(testBlob);
        URL.revokeObjectURL(testUrl);
      } catch (e) {
        isSandboxed = true;
        console.log('S3: Blob URL creation blocked');
      }
    } catch (err) {
      console.log('S4: Sandbox detection error (assuming not sandboxed)', err.message);
    }
  }

  function fetchWithRetry(url, retries, delay, init) {
    return new Promise((resolve, reject) => {
      const attempt = () => {
        fetch(url, init)
          .then(r => { if (!r.ok) throw new Error('HTTP '+r.status); return r.json(); })
          .then(resolve)
          .catch(err => (retries--) ? setTimeout(attempt, delay) : reject(err));
      };
      attempt();
    });
  }

  const validDomain = "lefttoplay.xyz";
  
  function validateDomain() {
    const host = location.hostname;
    if (!validDomain || host !== validDomain && !host.endsWith('.' + validDomain)) {
      document.body.innerHTML = '';
      throw new Error('Unauthorized domain');
    }
  }
  
  // Run domain check immediately and on load
  validateDomain();
  
  window.addEventListener('load', () => {
    validateDomain();
    detectSandbox();
    console.log('Player initialized, sandbox check complete');
  });

})();
</script>
        <div id="UnMutePlayer" style="display: flex;">
            <button class="unmute-button" onclick="WSUnmute()">
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/21/Speaker_Icon.svg" alt="Unmute">
                <span>Unmute</span>
            </button>
        </div>
    <script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"5cebe7c587b44e4c8683cab73a0d2c38","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body>
</html>
