<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<style>
	html, body {
	  height: 100%;
	  width: 100%;
	  margin: 0;
	  padding: 0;
	  border: 0;
	  overflow: hidden;
	}
	#player {
	  width: 100%;
	  height: 100%;
	}
	</style>
<script src="js/clappr.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/video-dev/clappr-rtmp-plugin@latest/dist/rtmp.min.js">
</script>
</head>
<body>
    <div id="player"></div>
    <script>
			var params={};
			window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(str,key,value){params[key]=value;});
			var url = params["ch"];
			var player = new Clappr.Player({
    source: "rtmps://live.cloudflare.com:443/live/532bc20238b0d3f736ae8f73afad7fc5k926c5c0e98e698532a62c896ceb1eebe",
    parentId: "#player-wrapper",
    plugins: {'playback': [RTMP]},
    rtmpConfig: {
        swfPath: 'RTMP.swf',
        scaling:'stretch',
        playbackType: 'live',
        bufferTime: 1,
        startLevel: 0,
        switchRules: {
            "SufficientBandwidthRule": {
                "bandwidthSafetyMultiple": 1.15,
                "minDroppedFps": 2
            },
            "InsufficientBufferRule": {
                "minBufferLength": 2
            },
            "DroppedFramesRule": {
                "downSwitchByOne": 10,
                "downSwitchByTwo": 20,
                "downSwitchToZero": 24
            },
            "InsufficientBandwidthRule": {
                "bitrateMultiplier": 1.15
            }
        }
    },
});
    </script>
	
	
</body>
</html>
