<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shaka Player Example</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/3.2.0/shaka-player.compiled.js"></script>
    <style>
        #video {
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body>

    <video id="video" controls></video>

    <script>
        // Initialize the Shaka Player
        function initApp() {
            const video = document.getElementById('video');
            const player = new shaka.Player(video);

            // Attach player to the window for easy debugging
            window.player = player;

            // Listen for error events
            player.addEventListener('error', onErrorEvent);

            // Load the video
            player.load('https://ssc-news-live-enc.edgenextcdn.net/out/v1/ef466f43623c4bbaa3f905b566ec35ea/index.mpd?aws.manifestfilter=video_height:144-576;video_codec:H264').then(function() {
                console.log('The video has now been loaded!');
            }).catch(onError);  // Handle errors
        }

        // Handle errors
        function onErrorEvent(event) {
            onError(event.detail);
        }

        function onError(error) {
            console.error('Error code', error.code, 'object', error);
        }

        // Initialize the app when the window loads
        window.onload = initApp;
    </script>

</body>
</html>